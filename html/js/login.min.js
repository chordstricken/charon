var Charon=angular.module("Charon",[]);Charon.controller("Login",function($scope,$http,$location){$scope.name="",$scope.pass="",$scope.login_attempt=function(){AES.handshake(function(){var data={name:$scope.name,pass:$scope.pass};$scope.error="",data=JSON.stringify(data),data=AES.encrypt(data),$http.post("/login",data).then(function(result){location.reload()},function(result,code){$scope.error=result})})}});